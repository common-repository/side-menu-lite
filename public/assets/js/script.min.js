/**
 * SideMenuLite
 * A JavaScript class for creating customizable side menus.
 *
 * @version 1.0.0
 * @license MIT License
 * @author Dmytro Lobov
 * @url https://wow-estore.com/item/side-menu-pro/
 */
"use strict";class SideMenuLite{constructor(t){this.settings={showAfterTimer:!1,hideAfterTimer:!1,showAfterPosition:!1,hideAfterPosition:!1,touch:!1,mobile:!1,mobileStyle:{},mobileHide:!1,desktopHide:!1,style:{},items:{},scrollSpyOffset:50,...t},this.element=document.getElementById(this.settings.element)}touchThis(){if(this.settings.touch)return;document.querySelector("#"+this.settings.element).addEventListener("touchstart",(function(){this.classList.add("sm-open")}));Array.from(this.element.querySelectorAll(".sm-link")).forEach((t=>{t.addEventListener("touchend",this.toggleItemOpen.bind(this,t))}))}toggleItemOpen(t,e){const s=t.closest(".sm-item"),{classList:i}=s;i.contains("sm-open")||(e.preventDefault(),i.add("sm-open"),this.touchAnyWhere(t,i))}touchAnyWhere(t,e){document.addEventListener("touchstart",(function(s){t.contains(s.target)||e.remove("sm-open")}))}displayMenu(){this.settings.showAfterTimer||this.settings.showAfterPosition||this.showMenu(),this.settings.showAfterTimer&&this.showAfterTimer(this.settings.showAfterTimer),this.settings.hideAfterTimer&&this.hideAfterTimer(this.settings.hideAfterTimer),this.settings.hideAfterPosition&&this.hideAfterPosition(this.settings.hideAfterPosition),this.settings.showAfterPosition&&this.showAfterPosition(this.settings.showAfterPosition)}showMenu(){this.element.classList.remove("is-hidden"),this.subMenuWidth()}hideMenu(){this.element.classList.add("is-hidden")}showAfterTimer(){setTimeout((()=>this.showMenu()),1e3*this.settings.showAfterTimer)}hideAfterTimer(){setTimeout((()=>this.element.classList.add("is-hidden")),1e3*this.settings.hideAfterTimer)}showAfterPosition(){window.addEventListener("scroll",(()=>{window.scrollY<=this.settings.showAfterPosition?this.hideMenu():this.showMenu()}))}hideAfterPosition(){window.addEventListener("scroll",(()=>{window.scrollY>this.settings.hideAfterPosition?this.hideMenu():this.showMenu()}))}actionServices(){this.element.addEventListener("click",(t=>{const e=t.target.closest("[data-btn-action]");if(!e)return;t.preventDefault();const s=e.getAttribute("data-btn-action");this.handleAction(s,e)}))}handleAction(t,e){const s={print:()=>window.print(),goback:()=>window.history.back(),goforward:()=>window.history.forward(),scroll:()=>{const t=e.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},totop:()=>window.scrollTo({top:0,behavior:"smooth"}),tobottom:()=>window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}[t];s&&s()}shareServices(){this.element.querySelectorAll("[data-btn-share]").forEach((t=>{t.addEventListener("click",(()=>{this.shareThis(t)}))}))}shareThis(t){const e=t.getAttribute("data-btn-share"),s=this.defaultShareServices()[e],i=`\n    menubar=no,\n    toolbar=no,\n    location=no,\n    scrollbars=no,\n    status=no,\n    resizable=yes,\n    width=550,\n    height=450,\n    top=${(screen.height-450)/2},\n    left=${(screen.width-550)/2}\n  `;window.open(s.url,null,i)}defaultShareServices(){const t=encodeURIComponent(document.location.href),e=encodeURIComponent(document.title);return{blogger:{url:`https://www.blogger.com/blog-this.g?u=${t}&n=${e}`},buffer:{url:`https://buffer.com/add?text=${e}&url=${t}`},diaspora:{url:`https://share.diasporafoundation.org/?title=${e}&url=${t}`},digg:{url:`http://digg.com/submit?url=${t}`},douban:{url:`http://www.douban.com/recommend/?url=${t}&title=${e}`},draugiem:{url:`https://www.draugiem.lv/say/ext/add.php?title=${e}&url=${t}`},email:{url:`mailto:?subject=${e}&body=${t}`},evernote:{url:`http://www.evernote.com/clip.action?url=${t}&title=${e}`},facebook:{url:`https://www.facebook.com/sharer.php?u=${t}`},flipboard:{url:`https://share.flipboard.com/bookmarklet/popout?v=2&title=${e}&url=${t}`},"google-bookmarks":{url:`https://www.google.com/bookmarks/mark?op=edit&bkmk=${t}&title=${e}`},googleplus:{url:`https://plus.google.com/share?url=${t}`},"hacker-news":{url:`https://news.ycombinator.com/submitlink?u=${t}&t=${e}`},instapaper:{url:`http://www.instapaper.com/edit?url=${t}&title=${e}`},line:{url:`https://lineit.line.me/share/ui?url=${t}`},linkedin:{url:`https://www.linkedin.com/shareArticle?mini=true&url=${t}&title=${e}`},livejournal:{url:`http://www.livejournal.com/update.bml?subject=${e}&event=${t}`},myspace:{url:`https://myspace.com/post?u=${t}&t=${e}`},odnoklassniki:{url:`https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl=${t}`},pinterest:{url:`http://pinterest.com/pin/create/button/?url=${t}`},pocket:{url:`https://getpocket.com/edit?url=${t}`},qzone:{url:`http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=${t}`},reddit:{url:`http://www.reddit.com/submit?url=${t}&title=${e}`},renren:{url:`http://widget.renren.com/dialog/share?resourceUrl=${t}&srcUrl=${t}&title=${e}`},skype:{url:`https://web.skype.com/share?url=${t}`},stumbleupon:{url:"http://www.stumbleupon.com/submit?url=${PAGE_URL}&title=${PAGE_TITLE}"},telegram:{url:`https://telegram.me/share/url?url=${t}&text=${e}`},tumblr:{url:`https://www.tumblr.com/widgets/share/tool?canonicalUrl=${t}&title=${e}`},twitter:{url:`https://twitter.com/intent/tweet?url=${t}&text=${e}`},vk:{url:`http://vk.com/share.php?url=${t}&title=${e}`},weibo:{url:`http://service.weibo.com/share/share.php?url=${t}&title=${e}`},whatsapp:{url:`whatsapp://send?text=${e}%20%0A${t}`},xing:{url:`https://www.xing.com/spi/shares/new?url=${t}`}}}toggleMenu(){const t=this.element.querySelectorAll("[data-smmenu-target]");if(!t)return!1;this.element.classList.contains("sm-connected")&&t.forEach((t=>{t.addEventListener("click",(()=>{"close"===t.getAttribute("data-smmenu-target")&&this.element.classList.remove("sm-open")})),t.addEventListener("touchend",(()=>{"close"===t.getAttribute("data-smmenu-target")&&this.element.classList.remove("sm-open")}))}))}run(){this.style(),this.itemStyle(),this.touchThis(),this.displayMenu(),this.actionServices(),this.shareServices(),this.translate(),this.scrollSpy(),this.toggleMenu()}scrollSpy(){const t=[...this.element.querySelectorAll('.sm-link[data-btn-action="scrollSpy"]')];if(t.length<1)return!1;const e=t.map((t=>document.querySelector(t.getAttribute("href"))));t.forEach((e=>{e.addEventListener("click",(()=>{const s=e.closest(".sm-item"),i=e.getAttribute("href"),o=document.querySelector(i);o&&(o.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),t.forEach((t=>{e.closest(".sm-item").classList.remove("sm-open")})),s.classList.add("sm-open"))}))})),window.addEventListener("scroll",(()=>{const s=window.pageYOffset;e.forEach((e=>{if(null===e)return;const i=e.offsetTop,o=e.offsetHeight;if(s>=i-this.settings.scrollSpyOffset&&s<i+o){!function(e){t.forEach((t=>{const s=t.closest(".sm-item");t.getAttribute("href")===`#${e}`?s.classList.add("sm-open"):s.classList.remove("sm-open")}))}(e.getAttribute("id"))}}))}))}translate(){this.element.querySelectorAll("[data-google-lang]").length>0&&this.appendScript()}appendScript(){const t=document.head,e=document.createElement("script");e.src="https://translate.google.com/translate_a/element.js?cb=SMPTranslateInit",e.setAttribute("defer",""),t.appendChild(e);const s=document.createElement("style");s.textContent=".skiptranslate {display: none !important;}body {top: 0 !important}",t.appendChild(s)}static Translate(){const t=document,e=window,s=t.documentElement.lang.slice(0,2);this.getLanguage(s)===s&&this.clearCookie();const i=Array.from(t.querySelectorAll("[data-google-lang]"));if(!i.length)return!1;new google.translate.TranslateElement({pageLanguage:s}),i.forEach((t=>{t.addEventListener("click",(s=>{s.preventDefault();let i=t.getAttribute("data-google-lang");this.setCookie(i),e.location.reload()}))}))}static getLanguage(t){const e=document.cookie.match("(^|;) ?googtrans=([^;]*)(;|$)"),s=e?e[2].split("/")[2]:null;return void 0!==s&&"null"!==s?s:t}static clearCookie(){document.cookie="googtrans=null",document.cookie="googtrans=null; domain="+document.domain}static setCookie(t){document.cookie="googtrans=/auto/"+t,document.cookie="googtrans=/auto/"+t+"; domain="+document.domain}style(){const t=this.settings.style,e=Object.entries(t).map((([t,e])=>`${t}: ${e};`)).join("");let s="";if(this.settings.mobile){const t=this.settings.mobileStyle,e=Object.entries(t).map((([t,e])=>`${t}: ${e};`)).join("");s=`@media only screen and (max-width: ${this.settings.mobile}px){ #${this.settings.element} {${e}}}`}let i="";this.settings.mobileHide&&(i=`@media only screen and (max-width: ${this.settings.mobileHide}px){#${this.settings.element} {display:none;}}`);let o="";this.settings.desktopHide&&(o=`@media only screen and (min-width: ${this.settings.desktopHide}px){#${this.settings.element} {display:none;}}`);const n=document.getElementById("side-menu-css"),r=document.createElement("style");r.setAttribute("id","side-menu-js-css"),r.innerHTML=`#${this.settings.element} {${e}} ${s} ${i} ${o}`,n?n.parentNode.insertBefore(r,n.nextSibling):document.body.appendChild(r)}itemStyle(){const t=this.settings.items,e=Array.from(this.element.querySelectorAll(".sm-item"));Object.entries(t).forEach((([t,s])=>{for(const i in s)s.hasOwnProperty(i)&&e[t].style.setProperty(i,s[i])}))}subMenuWidth(){this.element.querySelectorAll(".sm-has-submenu").forEach((t=>{const e=t.clientWidth,s=t.querySelector(".sm-sub-menu"),i=s.clientWidth;if(e<i){t.querySelector(".sm-link").style.width=`${i}px`}else{s.querySelectorAll(".sm-link").forEach((t=>{t.style.width=`${e}px`}))}}))}static initialize(t){const e=new SideMenuLite(t);return e.run(),e}}document.addEventListener("DOMContentLoaded",(function(){for(let t in window)if(t.indexOf("SideMenuLite_")>=0){const e=window[t];new SideMenuLite(e),SideMenuLite.initialize(e)}}));const GoogleTranslateInit=function(){const t=document.documentElement.lang.slice(0,2);return function(){(function(){const e=document.cookie.match("(^|;) ?googtrans=([^;]*)(;|$)"),s=e?e[2].split("/")[2]:null;return void 0!==s&&"null"!==s?s:t})()===t&&(document.cookie="googtrans=null",document.cookie="googtrans=null; domain="+document.domain),new google.translate.TranslateElement({pageLanguage:t});const e=document.querySelectorAll("[data-google-lang]");if(!e)return!1;e.forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault(),function(t){document.cookie="googtrans=/auto/"+t,document.cookie="googtrans=/auto/"+t+"; domain="+document.domain}(t.getAttribute("data-google-lang")),window.location.reload()}))}))}()};function SMPTranslateInit(){SideMenuLite.Translate()}